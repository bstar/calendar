import { Meta } from '@storybook/addon-docs/blocks';
import { CalendarStoryWrapper } from './shared/CalendarStoryWrapper';
import { useState } from 'react';
import CLACalendar from '../components/CLACalendar';
import { createCalendarSettings } from '../components/CLACalendar.config';

<Meta title="Restrictions/Direct Rendering" />

# Restrictions - Live Examples

This page shows working calendar instances with various restriction configurations described in the Restrictions documentation.

## Boundary Restrictions

Calendar restricted to the year 2025 only. Dates before January 1, 2025 and after December 31, 2025 are blocked.

**Full Configuration:**
```javascript
{
  displayMode: 'embedded',
  selectionMode: 'range',
  visibleMonths: 2,
  monthWidth: 500,
  showSubmitButton: true,
  showFooter: true,
  onSubmit: handleSubmit,
  restrictionConfigFactory: () => ({
    restrictions: [{
      type: 'boundary',
      enabled: true,
      date: '2025-01-01',
      direction: 'before',
      inclusive: false,
      message: 'Please select dates in 2025 or later'
    }, {
      type: 'boundary',
      enabled: true,
      date: '2025-12-31',
      direction: 'after',
      inclusive: true,
      message: 'Please select dates in 2025 or earlier'
    }]
  }),
  position: 'bottom-left',
  useDynamicPosition: true,
  showHeader: true,
  showTooltips: true,
  showLayersNavigation: false,
  showDateInputs: true,
  closeOnClickAway: true,
  startWeekOnSunday: false,
  timezone: 'UTC',
  dateRangeSeparator: ' - '
}
```

{(() => {
    const BoundaryExample = () => {
      const [submittedDates, setSubmittedDates] = useState(null);
      
      const handleSubmit = (start, end) => {
        setSubmittedDates({ start, end });
      };
      
      return (
        <div style={{ padding: '20px' }}>
          <CLACalendar
            settings={createCalendarSettings({
              displayMode: 'embedded',
              selectionMode: 'range',
              visibleMonths: 2,
              monthWidth: 500,
              showSubmitButton: true,
              showFooter: true,
              onSubmit: handleSubmit,
              restrictionConfigFactory: () => ({
                restrictions: [{
                  type: 'boundary',
                  enabled: true,
                  date: '2025-01-01',
                  direction: 'before',
                  inclusive: false,
                  message: 'Please select dates in 2025 or later'
                }, {
                  type: 'boundary',
                  enabled: true,
                  date: '2025-12-31',
                  direction: 'after',
                  inclusive: true,
                  message: 'Please select dates in 2025 or earlier'
                }]
              }),
              position: 'bottom-left',
              useDynamicPosition: true,
              showHeader: true,
              showTooltips: true,
              showLayersNavigation: false,
              showDateInputs: true,
              closeOnClickAway: true,
              startWeekOnSunday: false,
              timezone: 'UTC',
              dateRangeSeparator: ' - '
            })}
          />
          
          {submittedDates && (
            <div style={{
              marginTop: '20px',
              padding: '10px',
              backgroundColor: '#f0f8ff',
              borderRadius: '4px',
              border: '1px solid #0366d6'
            }}>
              <strong>Selected Date Range:</strong>
              <div>Start: {submittedDates.start || 'Not selected'}</div>
              <div>End: {submittedDates.end || 'Not selected'}</div>
            </div>
          )}
        </div>
      );
    };
    
    return <BoundaryExample />;
  })()}

## Weekday Restrictions

This calendar blocks weekends (Saturday and Sunday) from selection.

**Full Configuration:**
```javascript
{
  displayMode: 'embedded',
  selectionMode: 'range',
  visibleMonths: 2,
  monthWidth: 500,
  showSubmitButton: true,
  showFooter: true,
  onSubmit: handleSubmit,
  restrictionConfigFactory: () => ({
    restrictions: [{
      type: 'weekday',
      enabled: true,
      days: [0, 6], // Sunday (0) and Saturday (6)
      message: 'Weekends are not available for booking'
    }]
  }),
  // ... other standard settings
}
```

{(() => {
    const WeekdayExample = () => {
      const [submittedDates, setSubmittedDates] = useState(null);
      
      const handleSubmit = (start, end) => {
        setSubmittedDates({ start, end });
      };
      
      return (
        <div style={{ padding: '20px' }}>
          <CLACalendar
            settings={createCalendarSettings({
              displayMode: 'embedded',
              selectionMode: 'range',
              visibleMonths: 2,
              monthWidth: 500,
              showSubmitButton: true,
              showFooter: true,
              onSubmit: handleSubmit,
              restrictionConfigFactory: () => ({
                restrictions: [{
                  type: 'weekday',
                  enabled: true,
                  days: [0, 6],
                  message: 'Weekends are not available for booking'
                }]
              }),
              position: 'bottom-left',
              useDynamicPosition: true,
              showHeader: true,
              showTooltips: true,
              showLayersNavigation: false,
              showDateInputs: true,
              closeOnClickAway: true,
              startWeekOnSunday: false,
              timezone: 'UTC',
              dateRangeSeparator: ' - '
            })}
          />
          
          {submittedDates && (
            <div style={{
              marginTop: '20px',
              padding: '10px',
              backgroundColor: '#f0f8ff',
              borderRadius: '4px',
              border: '1px solid #0366d6'
            }}>
              <strong>Selected Date Range:</strong>
              <div>Start: {submittedDates.start || 'Not selected'}</div>
              <div>End: {submittedDates.end || 'Not selected'}</div>
            </div>
          )}
        </div>
      );
    };
    
    return <WeekdayExample />;
  })()}

## Date Range Restrictions

Specific date ranges blocked for holidays and maintenance periods.

**Full Configuration:**
```javascript
{
  displayMode: 'embedded',
  selectionMode: 'range',
  visibleMonths: 2,
  monthWidth: 500,
  showSubmitButton: true,
  showFooter: true,
  onSubmit: handleSubmit,
  restrictionConfigFactory: () => ({
    restrictions: [{
      type: 'daterange',
      enabled: true,
      ranges: [
        {
          startDate: '2025-07-01',
          endDate: '2025-07-07',
          message: 'Company retreat - office closed'
        },
        {
          startDate: '2025-08-15',
          endDate: '2025-08-20',
          message: 'System maintenance period'
        },
        {
          startDate: '2025-12-24',
          endDate: '2025-12-26',
          message: 'Christmas holidays'
        }
      ],
      message: 'This period is not available'
    }]
  }),
  // ... other standard settings
}
```

{(() => {
    const DateRangeExample = () => {
      const [submittedDates, setSubmittedDates] = useState(null);
      
      const handleSubmit = (start, end) => {
        setSubmittedDates({ start, end });
      };
      
      return (
        <div style={{ padding: '20px' }}>
          <div style={{
            marginBottom: '20px',
            padding: '10px',
            backgroundColor: '#fff3cd',
            borderRadius: '4px',
            border: '1px solid #ffeaa7'
          }}>
            <strong>Blocked Periods:</strong>
            <ul style={{ margin: '5px 0 0 20px' }}>
              <li>July 1-7: Company retreat</li>
              <li>August 15-20: System maintenance</li>
              <li>December 24-26: Christmas holidays</li>
            </ul>
          </div>
          
          <CLACalendar
            settings={createCalendarSettings({
              displayMode: 'embedded',
              selectionMode: 'range',
              visibleMonths: 2,
              monthWidth: 500,
              showSubmitButton: true,
              showFooter: true,
              onSubmit: handleSubmit,
              restrictionConfigFactory: () => ({
                restrictions: [{
                  type: 'daterange',
                  enabled: true,
                  ranges: [
                    {
                      startDate: '2025-07-01',
                      endDate: '2025-07-07',
                      message: 'Company retreat - office closed'
                    },
                    {
                      startDate: '2025-08-15',
                      endDate: '2025-08-20',
                      message: 'System maintenance period'
                    },
                    {
                      startDate: '2025-12-24',
                      endDate: '2025-12-26',
                      message: 'Christmas holidays'
                    }
                  ],
                  message: 'This period is not available'
                }]
              }),
              position: 'bottom-left',
              useDynamicPosition: true,
              showHeader: true,
              showTooltips: true,
              showLayersNavigation: false,
              showDateInputs: true,
              closeOnClickAway: true,
              startWeekOnSunday: false,
              timezone: 'UTC',
              dateRangeSeparator: ' - '
            })}
          />
          
          {submittedDates && (
            <div style={{
              marginTop: '20px',
              padding: '10px',
              backgroundColor: '#f0f8ff',
              borderRadius: '4px',
              border: '1px solid #0366d6'
            }}>
              <strong>Selected Date Range:</strong>
              <div>Start: {submittedDates.start || 'Not selected'}</div>
              <div>End: {submittedDates.end || 'Not selected'}</div>
            </div>
          )}
        </div>
      );
    };
    
    return <DateRangeExample />;
  })()}

## Allowed Ranges (Whitelist)

Only specific date ranges are selectable - useful for seasonal availability.

**Full Configuration:**
```javascript
{
  displayMode: 'embedded',
  selectionMode: 'range',
  visibleMonths: 2,
  monthWidth: 500,
  showSubmitButton: true,
  showFooter: true,
  onSubmit: handleSubmit,
  restrictionConfigFactory: () => ({
    restrictions: [{
      type: 'allowedranges',
      enabled: true,
      ranges: [
        {
          startDate: '2025-07-01',
          endDate: '2025-07-31',
          message: 'Summer availability'
        },
        {
          startDate: '2025-12-15',
          endDate: '2025-12-31',
          message: 'Winter holiday season'
        }
      ],
      message: 'Please select dates within the available periods'
    }]
  }),
  // ... other standard settings
}
```

{(() => {
    const AllowedRangesExample = () => {
      const [submittedDates, setSubmittedDates] = useState(null);
      
      const handleSubmit = (start, end) => {
        setSubmittedDates({ start, end });
      };
      
      return (
        <div style={{ padding: '20px' }}>
          <div style={{
            marginBottom: '20px',
            padding: '10px',
            backgroundColor: '#d4edda',
            borderRadius: '4px',
            border: '1px solid #c3e6cb'
          }}>
            <strong>Available Periods:</strong>
            <ul style={{ margin: '5px 0 0 20px' }}>
              <li>July 1-31: Summer availability</li>
              <li>December 15-31: Winter holiday season</li>
            </ul>
          </div>
          
          <CLACalendar
            settings={createCalendarSettings({
              displayMode: 'embedded',
              selectionMode: 'range',
              visibleMonths: 2,
              monthWidth: 500,
              showSubmitButton: true,
              showFooter: true,
              onSubmit: handleSubmit,
              restrictionConfigFactory: () => ({
                restrictions: [{
                  type: 'allowedranges',
                  enabled: true,
                  ranges: [
                    {
                      startDate: '2025-07-01',
                      endDate: '2025-07-31',
                      message: 'Summer availability'
                    },
                    {
                      startDate: '2025-12-15',
                      endDate: '2025-12-31',
                      message: 'Winter holiday season'
                    }
                  ],
                  message: 'Please select dates within the available periods'
                }]
              }),
              position: 'bottom-left',
              useDynamicPosition: true,
              showHeader: true,
              showTooltips: true,
              showLayersNavigation: false,
              showDateInputs: true,
              closeOnClickAway: true,
              startWeekOnSunday: false,
              timezone: 'UTC',
              dateRangeSeparator: ' - '
            })}
          />
          
          {submittedDates && (
            <div style={{
              marginTop: '20px',
              padding: '10px',
              backgroundColor: '#f0f8ff',
              borderRadius: '4px',
              border: '1px solid #0366d6'
            }}>
              <strong>Selected Date Range:</strong>
              <div>Start: {submittedDates.start || 'Not selected'}</div>
              <div>End: {submittedDates.end || 'Not selected'}</div>
            </div>
          )}
        </div>
      );
    };
    
    return <AllowedRangesExample />;
  })()}

## Business Days Pattern

Common business application pattern: weekdays only with holidays blocked.

**Full Configuration:**
```javascript
{
  displayMode: 'embedded',
  selectionMode: 'range',
  visibleMonths: 2,
  monthWidth: 500,
  showSubmitButton: true,
  showFooter: true,
  onSubmit: handleSubmit,
  restrictionConfigFactory: () => ({
    restrictions: [
      {
        type: 'weekday',
        enabled: true,
        days: [0, 6], // Block weekends
        message: 'Please select a business day (Monday-Friday)'
      },
      {
        type: 'daterange',
        enabled: true,
        ranges: [
          {
            startDate: '2025-07-04',
            endDate: '2025-07-04',
            message: 'Independence Day'
          },
          {
            startDate: '2025-09-01',
            endDate: '2025-09-01',
            message: 'Labor Day'
          },
          {
            startDate: '2025-11-27',
            endDate: '2025-11-28',
            message: 'Thanksgiving Holiday'
          },
          {
            startDate: '2025-12-24',
            endDate: '2025-12-25',
            message: 'Christmas Holiday'
          }
        ],
        message: 'Federal holiday - office closed'
      }
    ]
  }),
  // ... other standard settings
}
```

{(() => {
    const BusinessDaysExample = () => {
      const [submittedDates, setSubmittedDates] = useState(null);
      
      const handleSubmit = (start, end) => {
        setSubmittedDates({ start, end });
      };
      
      return (
        <div style={{ padding: '20px' }}>
          <div style={{
            marginBottom: '20px',
            padding: '10px',
            backgroundColor: '#e3f2fd',
            borderRadius: '4px',
            border: '1px solid #90caf9'
          }}>
            <strong>üíº Business Hours Calendar</strong>
            <div style={{ marginTop: '5px', fontSize: '14px' }}>
              ‚Ä¢ Open Monday - Friday
              <br />
              ‚Ä¢ Closed weekends and federal holidays
            </div>
          </div>
          
          <CLACalendar
            settings={createCalendarSettings({
              displayMode: 'embedded',
              selectionMode: 'range',
              visibleMonths: 2,
              monthWidth: 500,
              showSubmitButton: true,
              showFooter: true,
              onSubmit: handleSubmit,
              restrictionConfigFactory: () => ({
                restrictions: [
                  {
                    type: 'weekday',
                    enabled: true,
                    days: [0, 6],
                    message: 'Please select a business day (Monday-Friday)'
                  },
                  {
                    type: 'daterange',
                    enabled: true,
                    ranges: [
                      {
                        startDate: '2025-07-04',
                        endDate: '2025-07-04',
                        message: 'Independence Day'
                      },
                      {
                        startDate: '2025-09-01',
                        endDate: '2025-09-01',
                        message: 'Labor Day'
                      },
                      {
                        startDate: '2025-11-27',
                        endDate: '2025-11-28',
                        message: 'Thanksgiving Holiday'
                      },
                      {
                        startDate: '2025-12-24',
                        endDate: '2025-12-25',
                        message: 'Christmas Holiday'
                      }
                    ],
                    message: 'Federal holiday - office closed'
                  }
                ]
              }),
              position: 'bottom-left',
              useDynamicPosition: true,
              showHeader: true,
              showTooltips: true,
              showLayersNavigation: false,
              showDateInputs: true,
              closeOnClickAway: true,
              startWeekOnSunday: false,
              timezone: 'UTC',
              dateRangeSeparator: ' - '
            })}
          />
          
          {submittedDates && (
            <div style={{
              marginTop: '20px',
              padding: '10px',
              backgroundColor: '#f0f8ff',
              borderRadius: '4px',
              border: '1px solid #0366d6'
            }}>
              <strong>Selected Business Days:</strong>
              <div>Start: {submittedDates.start || 'Not selected'}</div>
              <div>End: {submittedDates.end || 'Not selected'}</div>
            </div>
          )}
        </div>
      );
    };
    
    return <BusinessDaysExample />;
  })()}

## Complex Restrictions Example

Multiple restriction types combined with boundaries, weekdays, and specific date ranges.

**Full Configuration:**
```javascript
{
  displayMode: 'embedded',
  selectionMode: 'range',
  visibleMonths: 2,
  monthWidth: 500,
  showSubmitButton: true,
  showFooter: true,
  onSubmit: handleSubmit,
  restrictionConfigFactory: () => ({
    restrictions: [
      {
        type: 'boundary',
        enabled: true,
        date: '2025-07-01',
        direction: 'before',
        message: 'Bookings open July 1st, 2025'
      },
      {
        type: 'boundary',
        enabled: true,
        date: '2025-12-31',
        direction: 'after',
        message: 'Cannot book beyond 2025'
      },
      {
        type: 'weekday',
        enabled: true,
        days: [0, 6],
        message: 'Service not available on weekends'
      },
      {
        type: 'daterange',
        enabled: true,
        ranges: [
          {
            startDate: '2025-07-04',
            endDate: '2025-07-04',
            message: 'Closed for Independence Day'
          },
          {
            startDate: '2025-09-01',
            endDate: '2025-09-01',
            message: 'Closed for Labor Day'
          },
          {
            startDate: '2025-11-27',
            endDate: '2025-11-28',
            message: 'Closed for Thanksgiving'
          },
          {
            startDate: '2025-12-24',
            endDate: '2025-12-26',
            message: 'Closed for Christmas'
          }
        ]
      }
    ]
  }),
  // ... other standard settings
}
```

{(() => {
    const ComplexExample = () => {
      const [submittedDates, setSubmittedDates] = useState(null);
      
      const handleSubmit = (start, end) => {
        setSubmittedDates({ start, end });
      };
      
      return (
        <div style={{ padding: '20px' }}>
          <div style={{
            marginBottom: '20px',
            padding: '10px',
            backgroundColor: '#f8f9fa',
            borderRadius: '4px',
            border: '1px solid #dee2e6'
          }}>
            <strong>Active Restrictions:</strong>
            <ul style={{ margin: '5px 0 0 20px' }}>
              <li>Booking window: July 1 - December 31, 2025</li>
              <li>Business days only (no weekends)</li>
              <li>Closed on major holidays</li>
            </ul>
          </div>
          
          <CLACalendar
            settings={createCalendarSettings({
              displayMode: 'embedded',
              selectionMode: 'range',
              visibleMonths: 2,
              monthWidth: 500,
              showSubmitButton: true,
              showFooter: true,
              onSubmit: handleSubmit,
              restrictionConfigFactory: () => ({
                restrictions: [
                  {
                    type: 'boundary',
                    enabled: true,
                    date: '2025-07-01',
                    direction: 'before',
                    message: 'Bookings open July 1st, 2025'
                  },
                  {
                    type: 'boundary',
                    enabled: true,
                    date: '2025-12-31',
                    direction: 'after',
                    message: 'Cannot book beyond 2025'
                  },
                  {
                    type: 'weekday',
                    enabled: true,
                    days: [0, 6],
                    message: 'Service not available on weekends'
                  },
                  {
                    type: 'daterange',
                    enabled: true,
                    ranges: [
                      {
                        startDate: '2025-07-04',
                        endDate: '2025-07-04',
                        message: 'Closed for Independence Day'
                      },
                      {
                        startDate: '2025-09-01',
                        endDate: '2025-09-01',
                        message: 'Closed for Labor Day'
                      },
                      {
                        startDate: '2025-11-27',
                        endDate: '2025-11-28',
                        message: 'Closed for Thanksgiving'
                      },
                      {
                        startDate: '2025-12-24',
                        endDate: '2025-12-26',
                        message: 'Closed for Christmas'
                      }
                    ]
                  }
                ]
              }),
              position: 'bottom-left',
              useDynamicPosition: true,
              showHeader: true,
              showTooltips: true,
              showLayersNavigation: false,
              showDateInputs: true,
              closeOnClickAway: true,
              startWeekOnSunday: false,
              timezone: 'UTC',
              dateRangeSeparator: ' - '
            })}
          />
          
          {submittedDates && (
            <div style={{
              marginTop: '20px',
              padding: '10px',
              backgroundColor: '#f0f8ff',
              borderRadius: '4px',
              border: '1px solid #0366d6'
            }}>
              <strong>Selected Date Range:</strong>
              <div>Start: {submittedDates.start || 'Not selected'}</div>
              <div>End: {submittedDates.end || 'Not selected'}</div>
            </div>
          )}
        </div>
      );
    };
    
    return <ComplexExample />;
  })()}

## Month Boundary Restriction

This example demonstrates the calendar's built-in boundary behavior. When you start a selection within a specific month, you can only continue selecting dates within that same month. All dates in other months become automatically restricted.

**Full Configuration:**
```javascript
{
  displayMode: 'embedded',
  selectionMode: 'range',
  visibleMonths: 2,
  monthWidth: 500,
  showSubmitButton: true,
  showFooter: true,
  onSubmit: handleSubmit,
  restrictionConfigFactory: () => ({
    restrictions: [{
      type: 'restricted_boundary',
      enabled: true,
      ranges: [
        {
          startDate: '2025-07-01',
          endDate: '2025-07-31',
          restricted: false,  // This range is ALLOWED
          message: 'July 2025'
        },
        {
          startDate: '2025-08-01',
          endDate: '2025-08-31',
          restricted: false,  // This range is ALLOWED
          message: 'August 2025'
        },
        // ... more months
      ],
      message: 'Selection must stay within the same month'
    }]
  })
}
```

{(() => {
  const MonthBoundaryExample = () => {
    const [submittedDates, setSubmittedDates] = useState(null);
    
    const handleSubmit = (start, end) => {
      setSubmittedDates({ start, end });
    };
    
    // Static configuration that shows month boundaries
    const restrictionConfig = {
      restrictions: [{
        type: 'restricted_boundary',
        enabled: true,
        ranges: [
          {
            startDate: '2025-07-01',
            endDate: '2025-07-31',
            restricted: false,
            message: 'July 2025'
          },
          {
            startDate: '2025-08-01',
            endDate: '2025-08-31',
            restricted: false,
            message: 'August 2025'
          },
          {
            startDate: '2025-09-01',
            endDate: '2025-09-30',
            restricted: false,
            message: 'September 2025'
          },
          {
            startDate: '2025-10-01',
            endDate: '2025-10-31',
            restricted: false,
            message: 'October 2025'
          },
          {
            startDate: '2025-11-01',
            endDate: '2025-11-30',
            restricted: false,
            message: 'November 2025'
          },
          {
            startDate: '2025-12-01',
            endDate: '2025-12-31',
            restricted: false,
            message: 'December 2025'
          }
        ],
        message: 'Selection must stay within the same month'
      }]
    };
    
    return (
      <div style={{ padding: '20px' }}>
        <p style={{ marginBottom: '20px', fontSize: '16px' }}>
          üìÖ Try selecting a date range. Notice how the calendar automatically restricts your selection to stay within the month where you started.
        </p>
        
        <div style={{
          marginBottom: '20px',
          padding: '15px',
          backgroundColor: '#e3f2fd',
          borderRadius: '4px',
          border: '1px solid #90caf9'
        }}>
          <strong>üóìÔ∏è How Month Boundaries Work:</strong>
          <ol style={{ margin: '10px 0 0 20px', fontSize: '14px' }}>
            <li>Start selecting a date in any month (e.g., July 15)</li>
            <li>As you drag to select more dates, you'll see that you can only select within July</li>
            <li>All dates in other months become grayed out automatically</li>
            <li>This happens because the calendar detects your selection started within a boundary</li>
          </ol>
          <div style={{ marginTop: '10px', fontSize: '14px', fontStyle: 'italic' }}>
            üí° This is useful for billing periods, monthly reports, or any scenario where selections should not cross month boundaries.
          </div>
        </div>
        
        <CLACalendar
          settings={createCalendarSettings({
            displayMode: 'embedded',
            selectionMode: 'range',
            visibleMonths: 2,
            monthWidth: 500,
            showSubmitButton: true,
            showFooter: true,
            onSubmit: handleSubmit,
            restrictionConfigFactory: () => restrictionConfig,
            position: 'bottom-left',
            useDynamicPosition: true,
            showHeader: true,
            showTooltips: true,
            showLayersNavigation: false,
            showDateInputs: true,
            closeOnClickAway: true,
            startWeekOnSunday: false,
            timezone: 'UTC',
            dateRangeSeparator: ' - '
          })}
        />
        
        {submittedDates && (
          <div style={{
            marginTop: '20px',
            padding: '10px',
            backgroundColor: '#f0f8ff',
            borderRadius: '4px',
            border: '1px solid #0366d6'
          }}>
            <strong>Selected Date Range:</strong>
            <div>Start: {submittedDates.start || 'Not selected'}</div>
            <div>End: {submittedDates.end || 'Not selected'}</div>
            <div style={{ marginTop: '5px', fontSize: '14px', color: '#0366d6' }}>
              ‚úì Notice how the selection was constrained to a single month
            </div>
          </div>
        )}
      </div>
    );
  };
  
  return <MonthBoundaryExample />;
})()}

## Single Date Selection with Restrictions

Appointment scheduling example with specific days available.

**Full Configuration:**
```javascript
{
  displayMode: 'embedded',
  selectionMode: 'single',  // Single date selection
  visibleMonths: 2,
  monthWidth: 500,
  showSubmitButton: true,
  showFooter: true,
  onSubmit: handleSubmit,
  restrictionConfigFactory: () => ({
    restrictions: [
      {
        type: 'weekday',
        enabled: true,
        days: [1, 3, 5], // Block Monday, Wednesday, Friday
        message: 'Available on Tuesday, Thursday, and weekends only'
      },
      {
        type: 'boundary',
        enabled: true,
        date: new Date().toISOString().split('T')[0],
        direction: 'before',
        message: 'Please select a future date'
      }
    ]
  }),
  // ... other standard settings
}
```

{(() => {
    const SingleDateExample = () => {
      const [submittedDate, setSubmittedDate] = useState(null);
      
      const handleSubmit = (start) => {
        setSubmittedDate(start);
      };
      
      return (
        <div style={{ padding: '20px' }}>
          <div style={{
            marginBottom: '20px',
            padding: '10px',
            backgroundColor: '#e8f5e9',
            borderRadius: '4px',
            border: '1px solid #a5d6a7'
          }}>
            <strong>üìÖ Appointment Availability</strong>
            <div style={{ marginTop: '5px', fontSize: '14px' }}>
              ‚Ä¢ Tuesday & Thursday: Regular appointments
              <br />
              ‚Ä¢ Saturday & Sunday: Weekend appointments
              <br />
              ‚Ä¢ No appointments on Monday, Wednesday, or Friday
            </div>
          </div>
          
          <CLACalendar
            settings={createCalendarSettings({
              displayMode: 'embedded',
              selectionMode: 'single',
              visibleMonths: 2,
              monthWidth: 500,
              showSubmitButton: true,
              showFooter: true,
              onSubmit: handleSubmit,
              restrictionConfigFactory: () => ({
                restrictions: [
                  {
                    type: 'weekday',
                    enabled: true,
                    days: [1, 3, 5],
                    message: 'Available on Tuesday, Thursday, and weekends only'
                  },
                  {
                    type: 'boundary',
                    enabled: true,
                    date: new Date().toISOString().split('T')[0],
                    direction: 'before',
                    message: 'Please select a future date'
                  }
                ]
              }),
              position: 'bottom-left',
              useDynamicPosition: true,
              showHeader: true,
              showTooltips: true,
              showLayersNavigation: false,
              showDateInputs: true,
              closeOnClickAway: true,
              startWeekOnSunday: false,
              timezone: 'UTC',
              dateRangeSeparator: ' - '
            })}
          />
          
          {submittedDate && (
            <div style={{
              marginTop: '20px',
              padding: '10px',
              backgroundColor: '#f0f8ff',
              borderRadius: '4px',
              border: '1px solid #0366d6'
            }}>
              <strong>Selected Appointment Date:</strong>
              <div>{submittedDate}</div>
            </div>
          )}
        </div>
      );
    };
    
    return <SingleDateExample />;
  })()}

## Configuration Reference

### Restriction Factory

The `restrictionConfigFactory` function is called each time the calendar needs to evaluate restrictions. This allows for dynamic restriction generation:

```typescript
restrictionConfigFactory: () => {
  // Can fetch data or compute restrictions dynamically
  const currentDate = new Date();
  const restrictions = [];
  
  // Add dynamic restrictions based on current state
  if (blockPastDates) {
    restrictions.push({
      type: 'boundary',
      enabled: true,
      date: currentDate.toISOString().split('T')[0],
      direction: 'before',
      message: 'Cannot select past dates'
    });
  }
  
  return { restrictions };
}
```

### Common Restriction Patterns

#### 1. Past Date Blocking
```javascript
{
  type: 'boundary',
  enabled: true,
  date: new Date().toISOString().split('T')[0],
  direction: 'before',
  inclusive: false,
  message: 'Please select a future date'
}
```

#### 2. Business Days Only
```javascript
{
  type: 'weekday',
  enabled: true,
  days: [0, 6], // Sunday and Saturday
  message: 'Available Monday-Friday only'
}
```

#### 3. Holiday Blocking
```javascript
{
  type: 'daterange',
  enabled: true,
  ranges: holidays.map(h => ({
    startDate: h.date,
    endDate: h.date,
    message: h.name
  }))
}
```

#### 4. Booking Window
```javascript
// Min 1 day in advance, max 90 days
const tomorrow = new Date();
tomorrow.setDate(tomorrow.getDate() + 1);

const maxDate = new Date();
maxDate.setDate(maxDate.getDate() + 90);

restrictions: [
  {
    type: 'boundary',
    enabled: true,
    date: tomorrow.toISOString().split('T')[0],
    direction: 'before',
    message: 'Must book at least 1 day in advance'
  },
  {
    type: 'boundary',
    enabled: true,
    date: maxDate.toISOString().split('T')[0],
    direction: 'after',
    message: 'Cannot book more than 90 days ahead'
  }
]
```

### Visual Indicators

Restricted dates are visually indicated with:
- **Gray background**: Date is restricted
- **Strikethrough text**: Clear visual cue
- **Hover tooltip**: Shows restriction message
- **Cursor style**: Changes to indicate non-selectable

### Performance Tips

1. **Cache Restriction Data**: If restrictions are fetched from an API, cache the results
2. **Minimize Computations**: Keep the factory function lightweight
3. **Use Memoization**: For complex calculations, memoize results
4. **Batch Updates**: When changing multiple restrictions, update them together

### Testing Restrictions

To test your restrictions:
1. Try to select restricted dates
2. Verify tooltip messages appear
3. Check that the submit callback receives valid dates only
4. Test edge cases (boundaries, single days, etc.)
5. Verify visual feedback is consistent